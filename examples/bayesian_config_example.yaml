# Example MetaReason configuration with Bayesian analysis
prompt_id: bayesian_analysis_demo
prompt_template: |
  Analyze the following topic from a {{perspective}} perspective: {{topic}}

  Please provide a {{detail_level}} analysis covering:
  1. Key concepts and definitions
  2. Current state and trends
  3. Practical implications
  4. Future outlook

primary_model:
  adapter: openai
  model: gpt-4
  temperature: 0.7
  max_tokens: 800

schema:
  topic:
    type: categorical
    values:
      - "artificial intelligence"
      - "climate change"
      - "quantum computing"
      - "biotechnology"
    weights: [0.3, 0.3, 0.2, 0.2]

  perspective:
    type: categorical
    values: ["technical", "business", "social", "ethical"]

  detail_level:
    type: categorical
    values: ["concise", "moderate", "comprehensive"]
    weights: [0.2, 0.5, 0.3]

sampling:
  method: latin_hypercube
  optimization_criterion: maximin
  random_seed: 42

n_variants: 100

oracles:
  accuracy:
    type: embedding_similarity
    canonical_answer: |
      A high-quality analysis should demonstrate deep understanding of the topic,
      present accurate and current information, show awareness of different perspectives,
      and provide actionable insights. The content should be well-structured,
      evidence-based, and appropriate for the requested detail level.
    method: cosine_similarity
    threshold: 0.8
    embedding_model: text-embedding-3-small

  clarity:
    type: llm_judge
    rubric: |
      Evaluate the response clarity on a scale of 1-5:
      5: Exceptionally clear, well-organized, easy to understand
      4: Clear and well-structured with minor areas for improvement
      3: Generally clear but may have some confusing elements
      2: Somewhat unclear or poorly organized
      1: Very unclear, difficult to follow
    judge_model: gpt-4
    temperature: 0.1
    output_format: score

  completeness:
    type: llm_judge
    rubric: |
      Rate response completeness (pass/fail):
      PASS if the response addresses all four required areas:
      1. Key concepts and definitions
      2. Current state and trends
      3. Practical implications
      4. Future outlook

      FAIL if any required area is missing or inadequately covered.
    judge_model: gpt-4
    temperature: 0.0
    output_format: binary

# Bayesian statistical analysis configuration
statistical_config:
  model: beta_binomial

  # Prior beliefs (uniform by default)
  prior:
    alpha: 1.0  # Uniform prior
    beta: 1.0

  # MCMC inference settings
  inference:
    method: mcmc
    samples: 4000      # Number of posterior samples
    chains: 4          # Parallel chains for convergence checking
    target_accept: 0.8 # Target acceptance rate

  # Output configuration
  output:
    credible_interval: 0.95  # 95% credible interval
    hdi_method: shortest     # Highest density interval method

# Analysis thresholds per oracle
analysis_thresholds:
  accuracy: 0.8      # Embedding similarity threshold
  clarity: 3.0       # LLM judge score threshold (3+ out of 5)
  completeness: 0.5  # Binary oracle threshold (pass/fail)

metadata:
  version: 1.0.0
  description: "Bayesian analysis demonstration configuration"
  created_by: metareason_team
  tags: ["demo", "bayesian", "multi-oracle"]
